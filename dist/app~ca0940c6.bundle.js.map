{"version":3,"file":"app~ca0940c6.bundle.js","mappings":"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","sources":["webpack://restaurant-apps/./src/scripts/views/app.js","webpack://restaurant-apps/./src/scripts/views/pages/detail.js","webpack://restaurant-apps/./src/scripts/views/pages/favorite.js","webpack://restaurant-apps/./src/scripts/views/pages/home.js","webpack://restaurant-apps/./src/scripts/views/templates/template-creator.js"],"sourcesContent":["import DrawerInitiator from '../utils/drawer-initiator';\nimport UrlParser from '../routes/url-parser';\nimport routes from '../routes/routes';\n\nclass App {\n  constructor({ button, drawer, content }) {\n    this._button = button;\n    this._drawer = drawer;\n    this._content = content;\n\n    this._initialAppShell();\n  }\n\n  _initialAppShell() {\n    DrawerInitiator.init({\n      button: this._button,\n      drawer: this._drawer,\n      content: this._content,\n    });\n  }\n\n  async renderPage() {\n    const url = UrlParser.parseActiveUrlWithCombiner();\n    const page = routes[url];\n    this._content.innerHTML = await page.render();\n    await page.afterRender();\n\n    const skipLinkElem = document.querySelector('.skip-to-content');\n    skipLinkElem.addEventListener('click', (event) => {\n      event.preventDefault();\n      document.querySelector('#mainContent').focus();\n    });\n  }\n}\n\nexport default App;\n","import UrlParser from '../../routes/url-parser';\nimport RestaurantDbSource from '../../data/restaurantdb-source';\nimport { createPageLoaderTemplate, createRestaurantDetailTemplate } from '../templates/template-creator';\nimport LikeButtonPresenter from '../../utils/like-button-presenter';\nimport FormReviewInitiator from '../../utils/form-review-initiator';\nimport FavoriteRestaurantIdb from '../../data/favorite-restaurant-idb';\n\nconst Detail = {\n  async render() {\n    document.querySelector('#loader').innerHTML = createPageLoaderTemplate.show();\n    const html = `\n      <div class=\"content\">\n        <h2 class=\"content__heading\">Detail Restaurant</h2>\n        <div id=\"restaurant\" class=\"restaurant\"></div>\n      </div>    \n    `;\n    return html;\n  },\n\n  async afterRender() {\n    const url = UrlParser.parseActiveUrlWithoutCombiner();\n    const restaurant = await RestaurantDbSource.detailRestaurant(url.id);\n    const restaurantContainer = document.querySelector('#restaurant');\n    restaurantContainer.innerHTML = createRestaurantDetailTemplate(restaurant);\n\n    LikeButtonPresenter.init({\n      likeButtonContainer: document.querySelector('#likeButtonContainer'),\n      favoriteRestaurants: FavoriteRestaurantIdb,\n      restaurant: {\n        id: restaurant.id,\n        name: restaurant.name,\n        city: restaurant.city,\n        rating: restaurant.rating,\n        pictureId: restaurant.pictureId,\n        description: restaurant.description,\n      },\n    });\n\n    FormReviewInitiator.init({\n      form: document.querySelector('#review-form'),\n      container: document.querySelector('#review-container'),\n    });\n\n    createPageLoaderTemplate.remove();\n  },\n};\n\nexport default Detail;\n","import FavoriteRestaurantIdb from '../../data/favorite-restaurant-idb';\nimport { createPageLoaderTemplate, createRestaurantItemTemplate } from '../templates/template-creator';\n\nimport '../../components/empty-favorite';\n\nconst Like = {\n  async render() {\n    document.querySelector('#loader').innerHTML = createPageLoaderTemplate.show();\n    const html = `\n      <div class=\"content\">\n        <h2 class=\"content__heading\">Your Liked Restaurants</h2>\n        <div class=\"restaurants\" id=\"restaurants\"></div>\n        <div id=\"empty\"></div>\n      </div>\n    `;\n    return html;\n  },\n\n  async afterRender() {\n    const restaurantsContainer = document.querySelector('#restaurants');\n    const restaurants = await FavoriteRestaurantIdb.getAllRestaurants();\n\n    restaurants.forEach((restaurant) => {\n      restaurantsContainer.innerHTML += createRestaurantItemTemplate(restaurant);\n    });\n\n    if (restaurants.length > 0) {\n      restaurantsContainer.value = restaurants;\n    } else {\n      document.querySelector('#empty').innerHTML = '<empty-favorite></empty-favorite>';\n    }\n\n    createPageLoaderTemplate.remove();\n  },\n};\n\nexport default Like;\n","import RestaurantDbSource from '../../data/restaurantdb-source';\nimport { createPageLoaderTemplate, createRestaurantItemTemplate } from '../templates/template-creator';\n\nconst Home = {\n  async render() {\n    document.querySelector('#loader').innerHTML = createPageLoaderTemplate.show();\n    const html = `\n      <div class=\"content\">\n        <h2 class=\"content__heading\">Explore Restaurant</h2>\n        <div class=\"restaurants\" id=\"restaurants\"></div>\n      </div>\n    `;\n    return html;\n  },\n\n  async afterRender() {\n    const restaurants = await RestaurantDbSource.listRestaurant();\n    const restaurantsContainer = document.querySelector('#restaurants');\n    restaurants.forEach((restaurant) => {\n      restaurantsContainer.innerHTML += createRestaurantItemTemplate(restaurant);\n    });\n\n    createPageLoaderTemplate.remove();\n  },\n};\n\nexport default Home;\n","import CONFIG from '../../globals/config';\n\nconst createPageLoaderTemplate = {\n  show() {\n    document.querySelector('#mainContent').style.display = 'none';\n    return `\n      <div class=\"loader\"></div>\n    `;\n  },\n  remove() {\n    setTimeout(() => {\n      const loader = document.querySelector('.loader');\n\n      if (loader) {\n        loader.remove();\n        document.querySelector('#mainContent').style.display = 'block';\n      }\n    }, 2000);\n  },\n};\n\nconst createRestaurantItemTemplate = (restaurant) => `\n  <div class=\"restaurants-item\">\n    <div class=\"restaurants-item__header\">\n      <img class=\"lazyload restaurants-item__header__poster\" alt=\"${restaurant.name}\"\n        data-src=\"${restaurant.pictureId ? CONFIG.BASE_IMAGE_URL('small') + restaurant.pictureId : 'https://fastly.picsum.photos/id/431/5000/3334.jpg?hmac=T2rL_gBDyJYpcr1Xm8Kv7L6bhwvmZS8nKT5w3ok58kA'}\">\n      <div class=\"restaurants-item__header__rating\">\n        <p><i class=\"fa-solid fa-star\"></i> <span class=\"restaurant-item__header__rating__score\">${restaurant.rating}</span></p>\n      </div>\n      <div class=\"restaurants-item__header__city\">\n        <p><i class=\"fa-solid fa-location-dot\"></i> <span class=\"restaurant-item__header__rating__score2\">${restaurant.city}</span></p>\n      </div>\n    </div>\n    <div class=\"restaurants-item__content\">\n      <h3 class=\"restaurants-item__name\"><a href=\"/#/detail/${restaurant.id}\" title=\"${restaurant.name}\">${restaurant.name}</a></h3>\n      <p>${restaurant.description}</p>\n    </div>\n  </div>\n`;\n\nconst createRestaurantDetailTemplate = (restaurant) => `\n  <section class=\"restaurant-detail\">  \n    <div class=\"restaurant-detail__container\">\n      <img class=\"lazyload restaurant-detail__picture\" data-src=\"${CONFIG.BASE_IMAGE_URL('large') + restaurant.pictureId}\" alt=\"${restaurant.name}\">\n      <div class=\"restaurant-detail__content\">\n        <h1 class=\"restaurant-detail__title\">${restaurant.name}</h1>\n        <div class=\"restaurant-detail__category__container\">\n          <span class=\"restaurant-detail__category\">Category : ${restaurant.categories.map((category) => `${category.name}`).join(', ')}</span>\n        </div>\n        <div class=\"restaurant-detail__rating\">\n          <i class=\"fa-solid fa-star\"></i> ${restaurant.rating}\n        </div>\n        <div class=\"restaurant-detail__location\">\n          <i class=\"fa-solid fa-location-dot\"></i> ${restaurant.address}, ${restaurant.city}\n        </div>  \n        <div class=\"restaurant-detail__description\">\n          <h2>Description</h2>\n          <p>${restaurant.description}</p> \n        </div>\n        <div id=\"likeButtonContainer\"></div>\n      </div>\n    </div>\n    \n    <aside>\n      <h2 class=\"content__heading\">Menus</h2>\n      <div class=\"detail-menu\">\n        <div class=\"menu-title-container\">\n          <i class=\"fa-solid fa-bowl-food\"></i>\n          <h2 class=\"menu-title\">Food</h2>\n        </div>\n        <ul class=\"menu-list\">\n          ${restaurant.menus.foods.map((food) => `<li class=\"menu-item\">${food.name}</li>`).join(' ')}\n        <ul>\n      </div>\n    \n      <div class=\"detail-menu\">\n        <div class=\"menu-title-container\">\n          <i class=\"fa-solid fa-mug-saucer\"></i>\n          <h2 class=\"menu-title\">Drinks</h2>\n        </div>\n        <ul class=\"menu-list\">\n          ${restaurant.menus.drinks.map((drink) => `<li class=\"menu-item\">${drink.name}</li>`).join(' ')}\n        </ul>\n      </div>\n    </aside>\n  </section>\n\n  <h2 class=\"content__heading\">Consumer Review</h2>\n  \n  <section class=\"restaurant__review\">\n    <div id=\"review-container\">\n      <h2 class=\"content__heading\">Review</h2>\n        ${restaurant.customerReviews.map((review) => `\n        <div class=\"review-container\">\n          <div class=\"review-photo-profile\">\n            <img src=\"./images/user/default.png\" alt=\"consumer photo profile\">\n          </div>\n          <div class=\"review-body\">\n            <h3 class=\"review-consumer-name\">${review.name}</h3>\n            <small class=\"review-date-post\">${review.date}</small>\n            <p class=\"review-content\">${review.review}</p>\n          </div>\n        </div>\n        `).join('')}\n    </div>\n\n    <div id=\"review-form-container\">\n    \n    <h2 class=\"content__heading\">Make a Review</h2>\n    <div class=\"review-form-container\">\n      \n      <form class=\"review-form\" id=\"review-form\">\n        <input type=\"hidden\" name=\"id\" value=\"${restaurant.id}\">\n        <div class=\"review-form-element\">\n          <label for=\"name\">Name</label>\n          <input type=\"text\" name=\"name\" id=\"name\" autocomplete=\"off\">\n        </div>\n        <div class=\"review-form-element\">\n          <label for=\"review\">Review</label>\n          <textarea name=\"review\" id=\"review\"></textarea>\n        </div>\n        <button type=\"submit\" id=\"button-review\">Add Review</button>\n      </form>\n    </div>\n  </div>\n  </section>\n`;\n\nconst createReviewTemplate = (reviews) => {\n  const review = reviews.customerReviews[reviews.customerReviews.length - 1];\n\n  const html = document.createElement('div');\n  html.classList.add('review-container');\n  html.innerHTML = `\n    <div class=\"review-photo-profile\">\n      <img class=\"lazyload\" data-src=\"./images/user/default.png\" alt=\"consumer photo profile\">\n    </div>\n    <div class=\"review-body\">\n      <h3 class=\"review-consumer-name\">${review.name}</h3>\n      <small class=\"review-date-post\">${review.date}</small>\n      <p class=\"review-content\">${review.review}</p>\n    </div>    \n  `;\n  return html;\n};\n\nconst createLikeRestaurantButtonTemplate = () => `\n  <button aria-label=\"like this restaurant\" id=\"likeButton\" class=\"like\">\n    <i class=\"fa-regular fa-heart\" aria-hidden=\"true\"></i>\n  </button>\n`;\n\nconst createUnlikeRestaurantButtonTemplate = () => `\n  <button aria-label=\"unlike this restaurant\" id=\"likeButton\" class=\"like\">\n    <i class=\"fa-solid fa-heart\" aria-hidden=\"true\"></i>\n  </button>\n`;\n\nexport {\n  createPageLoaderTemplate,\n  createRestaurantItemTemplate,\n  createRestaurantDetailTemplate,\n  createReviewTemplate,\n  createLikeRestaurantButtonTemplate,\n  createUnlikeRestaurantButtonTemplate,\n};\n"],"names":["i","button","drawer","content","this","_button","_drawer","_content","_initialAppShell","DrawerInitiator","url","UrlParser","page","routes","render","innerHTML","afterRender","document","querySelector","addEventListener","event","preventDefault","focus","createPageLoaderTemplate","RestaurantDbSource","id","restaurant","createRestaurantDetailTemplate","LikeButtonPresenter","likeButtonContainer","favoriteRestaurants","FavoriteRestaurantIdb","name","city","rating","pictureId","description","FormReviewInitiator","form","container","restaurantsContainer","restaurants","forEach","createRestaurantItemTemplate","length","value","show","style","display","remove","setTimeout","loader","CONFIG","categories","map","category","join","address","menus","foods","food","drinks","drink","customerReviews","review","date","createReviewTemplate","reviews","html","createElement","classList","add","createLikeRestaurantButtonTemplate","createUnlikeRestaurantButtonTemplate"],"sourceRoot":""}